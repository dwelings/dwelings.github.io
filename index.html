<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="no-referrer" />
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN" />
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <title>Homeroom | Proxy</title>
  <link rel="stylesheet" href="./styles/main.css" />
  <link rel="icon" type="image/x-icon" href="static/images/icon.png" />
  <style>
    /* Add custom CSS styles */
    body {
      background-color: #f0f0f0;
      color: #333;
      font-family: Arial, sans-serif;
    }
    .wrapper {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .navbar {
      background: #333;
      color: #fff;
      padding: 10px;
      border-radius: 4px;
    }
    .navbar button {
      background: #444;
      color: #fff;
      border: none;
      padding: 10px;
      margin: 5px;
      border-radius: 4px;
      cursor: pointer;
    }
    .navbar button:hover {
      background: #555;
    }
    iframe {
      border: none;
      width: 100%;
      height: 500px;
      border-radius: 4px;
    }
    #particles-js {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="homepage">
      <div class="navbar">
        <img src="./images/moon.png" alt="Moon" class="picture" />
        <input type="text" id="proxurl" placeholder="Enter URL here" />
        <button id="uvBtn">Ultra-Violet</button>
        <button id="wombtn">Womginx</button>
        <button id="exitBTN" style="display: none" onclick="toggleButtons('none')">X</button>
        <img src="./images/reload.png" id="reloadBTN" style="display: none" onclick="reloadIframe()" />
        <button id="settRedir" onclick="navigateTo('settings.html')">Settings</button>
        <button id="homepageBtn" style="display: none;" onclick="navigateTo('')">Go Back</button>
        <button id="creditspageBtn" style="display: none;" onclick="navigateTo('credits.html')">Credits</button>
      </div>
      <div class="iframeWrapper noselect">
        <iframe src="" id="iframe" frameborder="0"></iframe>
        <button class="womResume btn-grad" style="display: none;" onclick="resumeSession('womginx')">Resume Womginx Session</button>
        <button class="uvResume btn-grad" style="display: none;" onclick="resumeSession('uv')">Resume Ultra Violet Session</button>
      </div>
    </div>
  </div>

  <!-- particles.js container -->
  <div id="particles-js"></div>

  <script src="./js/particles.js"></script>
  <script src="./js/app.js"></script>
  <script src="uv/uv.bundle.js"></script>
  <script src="uv/uv.config.js"></script>
  <script src="./js/index.js"></script>
  <script>
    function toggleButtons(display) {
      document.getElementById('exitBTN').style.display = display;
      document.getElementById('reloadBTN').style.display = display;
    }

    function reloadIframe() {
      document.getElementById('iframe').srcdoc = '';
    }

    function navigateTo(page) {
      document.getElementById('iframe').src = page;
      toggleButtons('none');
      if (page === 'settings.html') {
        document.getElementById('homepageBtn').style.display = 'inline';
      }
    }

    function resumeSession(type) {
      // Implement session resuming logic based on type
      if (type === 'womginx') {
        // Resume Womginx session logic
      } else if (type === 'uv') {
        // Resume Ultra Violet session logic
      }
      toggleButtons('block');
    }

    document.getElementById('uvBtn').addEventListener('click', () => {
      const url = document.getElementById('proxurl').value;
      const fetchUrl = 'https://dented-season-nation.glitch.me/proxy?url=' + encodeURIComponent(url);
      fetchProxy(fetchUrl);
    });

    function fetchProxy(url) {
      const iframe = document.getElementById('iframe');
      fetch(url)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.text();
        })
        .then(data => {
          iframe.srcdoc = data;
          toggleButtons('block');
        })
        .catch(error => {
          console.error('Fetch error:', error);
        });
    }
  </script>
</body>
</html>

